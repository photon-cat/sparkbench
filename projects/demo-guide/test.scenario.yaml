name: Demo Guide - 74HC595 Shift Register + LEDs
version: 1
steps:
  - delay: 1000

  # Verify boot message
  - wait-serial: "SparkBench Demo Guide"
    timeout: 3000

  # Wait for chase animation to produce serial output
  - delay: 600
  - expect-serial: "[sr] LEDs="

  # Press button to cycle to fill mode
  - set-control:
      part-id: btn1
      control: pressed
      value: true
  - delay: 50
  - set-control:
      part-id: btn1
      control: pressed
      value: false
  - delay: 300
  - expect-serial: "fill"

  # Press button to cycle to bounce mode
  - set-control:
      part-id: btn1
      control: pressed
      value: true
  - delay: 50
  - set-control:
      part-id: btn1
      control: pressed
      value: false
  - delay: 300
  - expect-serial: "bounce"

  # Move potentiometer and check servo angle output
  - set-control:
      part-id: pot1
      control: position
      value: 0.75
  - delay: 600
  - expect-serial: "servo="
